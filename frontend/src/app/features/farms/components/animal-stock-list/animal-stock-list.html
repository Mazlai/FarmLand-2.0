<div class="d-flex flex-column w-100 h-100">

  <div class="p-3">
    <farm-header/>
  </div>

  <div class="d-flex justify-content-center align-items-center w-100 h-100 p-3 p-sm-5">
    @if (isLoading) {
      <span class="spinner-border"></span>
    } @else {
      <div class="d-flex align-items-center flex-wrap gap-2 gap-sm-4 w-100" style="max-width: 1000px">
        @for (animal of animalStocks; track animal.id) {
          <animal-stock-item [animal]="animal"
                             (onCountUpdate)="loadAnimalStocksAsync()"
                             (onStockDeleted)="loadAnimalStocksAsync()"/>
        }
        <button (click)="addAnimalStockModal.openModalAsync()"
                class="add-stock-btn border border-primary border-2 rounded fs-1 bg-transparent">
          +
        </button>
      </div>
    }
  </div>

</div>

<add-animal-stock-modal #addAnimalStockModal (onAnimalAdded)="loadAnimalStocksAsync()"/>
